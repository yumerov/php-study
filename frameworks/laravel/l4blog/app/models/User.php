<?php

use Zizaco\Confide\ConfideUser;
use Zizaco\Confide\ConfideUserInterface;

use Zizaco\Entrust\HasRole;

class User extends Eloquent implements ConfideUserInterface {

  use ConfideUser;
  use HasRole;

  protected $fillable = ['display_name'];

  public function posts() {
    return $this->hasMany('Post');
  }

  public function comments() {
    return $this->hasMany('Comment');
  }

  public function getDisplayNameAttribute($value) {
    return $value ?: $this->username;
  }

}
